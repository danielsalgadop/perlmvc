<!-- Sacado de aqui
http://www.plus2net.com/javascript_tutorial/textarea-counter.php
 -->
<html><head>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script language="javascript">
var templates_sms = {
	1:"1111 sasljfs ldkfaj ldkfajs ",
	2:"222sasljfs ldkfaj ldkfajs ",
	3:"333 sasljfs ldkfaj ldkfajs ",

};
$(document).ready(function(){
	// TODO detectar si ha hecho keydown (ha cambiado template).
	// var done_keydown = 0

	// Detectar que han seleccionado alguna template
       $("#template_select").change(function(){
       		var cargar_este_template = $("#template_select").val();
       		$("#textarea").val(templates_sms[cargar_este_template]);
       		check_length(my_form);

       });
});
</script>
<title>(Type a title for your page here)</title>


<!-- Ojo que puedo contar el contenido de text Area con jqeury asin de facil
$("#textarea").keyup(function(){
  $("#count").text($(this).val().length);
});
 -->
<script language=JavaScript>
<!--
function check_length(my_form)
	{
		maxLen = 50; // max number of characters allowed
		if (my_form.my_text.value.length >= maxLen) {
// Alert message if maximum limit is reached.
// If required Alert can be removed.
var msg = "You have reached your maximum limit of characters allowed";
alert(msg);
		// Reached the Maximum length so trim the textarea
			my_form.my_text.value = my_form.my_text.value.substring(0, maxLen);
		 }
		else{ // Maximum length not reached so update the value of my_text counter
			my_form.text_num.value = maxLen - my_form.my_text.value.length;}
	}
//-->
</script>

</head>

<body>
<form name="my_form" method="post">
<select id="template_select">
   <option value="1">Temaplate 1 - Descripcion</option>
   <option value="2">Template 2</option>
   <option value="3">Template 3</option>
   <option value="4">Template 4</option>
</select>
<textarea id="textarea" onKeyPress="check_length(this.form)"; onKeyDown="check_length(this.form)";
 name="my_text" rows=4 cols=30></textarea>
    <br>
<input size=1 value=50 name=text_num> Characters Left
</form>
</body>
</html>